---
page_title: "truenas_user Resource - terraform-provider-truenas"
subcategory: ""
description: |-
  Manages local users on TrueNAS.
---

# truenas_user (Resource)

Manages local users on TrueNAS.

## Example Usage

### Basic User

```terraform
# Create a basic user with an auto-created primary group
resource "truenas_user" "jdoe" {
  username     = "jdoe"
  full_name    = "John Doe"
  email        = "jdoe@example.com"
  password     = var.user_password
  group_create = true
  shell        = "/usr/bin/bash"
  smb          = false
}

# Create a user assigned to an existing group
resource "truenas_user" "deploy" {
  username          = "deploy"
  full_name         = "Deploy User"
  password_disabled = true
  group_id          = truenas_group.developers.gid
  sshpubkey         = file("~/.ssh/deploy.pub")
  shell             = "/usr/bin/bash"
  smb               = false
}
```

> **Note:** Either `password` or `password_disabled = true` must be set. The `password` attribute is write-only and will not be read back from the API.

> **Note:** `group_create` and `home_create` are only used during resource creation and are ignored on updates.

## Import

Users can be imported using the UNIX UID:

```shell
terraform import truenas_user.root 0
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `full_name` (String) Full name (GECOS field).
- `username` (String) Login username.

### Optional

- `email` (String) Email address.
- `group_create` (Boolean) Create a new primary group with the same name as the user. Only used during creation.
- `group_id` (Number) Primary group ID.
- `groups` (List of Number) List of secondary group IDs.
- `home` (String) Home directory path.
- `home_create` (Boolean) Create the home directory if it does not exist. Only used during creation.
- `home_mode` (String) Home directory permissions (octal).
- `locked` (Boolean) Lock user account.
- `password` (String, Sensitive) User password.
- `password_disabled` (Boolean) Disable password login.
- `shell` (String) Login shell path.
- `smb` (Boolean) Allow user for SMB authentication.
- `ssh_password_enabled` (Boolean) Allow SSH password authentication.
- `sshpubkey` (String) SSH public key.
- `sudo_commands` (List of String) List of allowed sudo commands.
- `sudo_commands_nopasswd` (List of String) List of allowed sudo commands without password.
- `uid` (Number) UNIX user ID. If not specified, TrueNAS assigns the next available UID.

### Read-Only

- `builtin` (Boolean) Whether this is a built-in system user.
- `id` (String) User ID.
