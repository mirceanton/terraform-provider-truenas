---
page_title: "truenas_snapshots Data Source - terraform-provider-truenas"
subcategory: ""
description: |-
  Retrieves snapshots for a dataset.
---

# truenas_snapshots (Data Source)

Retrieves snapshots for a dataset.

## Example Usage

### List all snapshots for a dataset

```terraform
# List all snapshots for a dataset
data "truenas_snapshots" "backups" {
  dataset_id = "tank/data"
}

# Output snapshot information
output "snapshot_count" {
  value = length(data.truenas_snapshots.backups.snapshots)
}

output "snapshot_ids" {
  value = [for s in data.truenas_snapshots.backups.snapshots : s.id]
}
```

### Filter snapshots by name pattern

```terraform
data "truenas_snapshots" "daily" {
  dataset_id   = "tank/data"
  name_pattern = "daily-*"
}
```

### Include child dataset snapshots

```terraform
data "truenas_snapshots" "all" {
  dataset_id = "tank/data"
  recursive  = true
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `dataset_id` (String) Dataset ID to query snapshots for.

### Optional

- `name_pattern` (String) Glob pattern to filter snapshot names.
- `recursive` (Boolean) Include child dataset snapshots. Default: false.

### Read-Only

- `snapshots` (Attributes List) List of snapshots. (see [below for nested schema](#nestedatt--snapshots))

<a id="nestedatt--snapshots"></a>
### Nested Schema for `snapshots`

Read-Only:

- `dataset_id` (String) Parent dataset ID.
- `hold` (Boolean) Whether snapshot is held.
- `id` (String) Snapshot ID (dataset@name).
- `name` (String) Snapshot name.
- `referenced_bytes` (Number) Space referenced by snapshot.
- `used_bytes` (Number) Space consumed by snapshot.
